# 一.介绍

JDK1.7升级了NIO类库，升级后的NIO类库被称为NIO 2.0。引人注目的是，Java正式提供了异步文件I/O操作，同时提供了与UNIX网络编程事件驱动I/O对应的AIO。

**AIO基于Proactor模型：**

1. 每个链接发送过来的请求，都会绑定一个buffer，然后通知操作系统去异步完成读，此时你的程序可以去干别的事情，等待操作系统完成数据读取操作后，会回调你的接口，给你的操作系统异步读完的数据。
2. 然后你对这个数据处理一下，接着将结果往回写。
3. 工作线程写的时候，你给操作系统一个有数据的buffer，让操作系统自己获取数据去完成写操作。写完后通知你，你的数据写回客户端去了。
4. 工作线程读数据的时候，你提供一个空的buffer给操作系统，然后你可以去干别的事情。操作系统将读好的数据放入buffer中后，回调你的接口，将buffer交给你。

AIO 异步非阻塞用来解决数据复制阶段的阻塞问题。在进行读写操作时，线程不必等待结果，而是将来由操作系统来通过回调方式由另外的线程来获得结果。

NIO2.0引入了新的异步通道的概念，并提供了异步文件通道和异步套接字通道的实现。异步通道提供以下两种方式获取获取操作结果。

1. 通过java.util.concurrent.Future类来表示异步操作的结果；
2. 在执行异步操作的时候传入一个java.nio.channels

CompletionHandler接口的实现类作为操作完成的回调。

NIO2.0的异步套接字通道是真正的异步非阻塞I/O，对应于UNIX网络编程中的事件驱动I/O(AIO)。它不需要通过多路复用器(Selector)对注册的通道进行轮询操作即可实现异步读写，从而简化了NIO的编程模型。